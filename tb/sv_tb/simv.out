#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2009.vpi";
S_0x15b6b7ae0 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x15b6af070 .scope module, "tb_spi_controller" "tb_spi_controller" 3 22;
 .timescale -9 -12;
v0x15b6d43f0_0 .var "cs_delay_tested", 0 0;
v0x15b6d4480_0 .var/i "cycle_count", 31 0;
v0x15b6d4520_0 .var/i "end_time", 31 0;
v0x15b6d45e0_0 .var "error_detected", 0 0;
v0x15b6d4680_0 .var/i "fail_count", 31 0;
v0x15b6d4770_0 .var "fifo_overflow_detected", 0 0;
v0x15b6d4810_0 .var "fifo_underflow_detected", 0 0;
v0x15b6d48b0_0 .var "interrupt_generated", 0 0;
v0x15b6d4950_0 .var "interrupt_status", 31 0;
v0x15b6d4a60_0 .var "loopback_tested", 0 0;
v0x15b6d4b00_0 .var "paddr", 7 0;
v0x15b6d4bc0_0 .var/i "pass_count", 31 0;
v0x15b6d4c50_0 .var "pclk", 0 0;
v0x15b6d4ce0_0 .var "penable", 0 0;
v0x15b6d4d90_0 .net "prdata", 31 0, v0x15b6d16f0_0;  1 drivers
L_0x150088010 .functor BUFT 1, C4<1>, C4<0>, C4<0>, C4<0>;
v0x15b6d4e40_0 .net "pready", 0 0, L_0x150088010;  1 drivers
v0x15b6d4ef0_0 .var "presetn", 0 0;
v0x15b6d5080_0 .var "psel", 0 0;
L_0x150088058 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x15b6d5130_0 .net "pslverr", 0 0, L_0x150088058;  1 drivers
v0x15b6d51c0_0 .var "pwdata", 31 0;
v0x15b6d5250_0 .var "pwrite", 0 0;
v0x15b6d5300 .array "received_data", 31 0, 7 0;
v0x15b6d5390_0 .var "slave_data", 7 0;
v0x15b6d5420_0 .var "slave_rx_data", 7 0;
v0x15b6d54b0_0 .var "slave_rx_valid", 0 0;
v0x15b6d5540_0 .net "spi_clk", 0 0, L_0x15b6d7ab0;  1 drivers
v0x15b6d5610_0 .net "spi_csn", 3 0, L_0x15b6da270;  1 drivers
v0x15b6d56a0_0 .net "spi_irq", 0 0, v0x15b6d25c0_0;  1 drivers
v0x15b6d5750_0 .net "spi_miso", 0 0, L_0x15b6da6f0;  1 drivers
v0x15b6d5800_0 .net "spi_mosi", 0 0, L_0x15b6d7b20;  1 drivers
v0x15b6d58d0_0 .var/i "start_time", 31 0;
v0x15b6d5960_0 .var "status", 31 0;
v0x15b6d5a00_0 .var/i "test_count", 31 0;
v0x15b6d4fa0 .array "test_data", 31 0, 7 0;
v0x15b6d5c90_0 .var "timeout_detected", 0 0;
E_0x15b6a8fe0/0 .event negedge, v0x15b6cbf20_0;
E_0x15b6a8fe0/1 .event posedge, v0x15b6cde60_0;
E_0x15b6a8fe0 .event/or E_0x15b6a8fe0/0, E_0x15b6a8fe0/1;
L_0x15b6da6f0 .part v0x15b6d5390_0, 7, 1;
S_0x15b6acd30 .scope begin, "$ivl_for_loop2" "$ivl_for_loop2" 3 504, 3 504 0, S_0x15b6af070;
 .timescale -9 -12;
v0x15b6aac10_0 .var/i "i", 31 0;
S_0x15b6c9e30 .scope task, "apb_read" "apb_read" 3 141, 3 141 0, S_0x15b6af070;
 .timescale -9 -12;
v0x15b6ca040_0 .var "addr", 7 0;
v0x15b6ca0f0_0 .var "data", 31 0;
E_0x15b6ca000 .event posedge, v0x15b6d1540_0;
TD_tb_spi_controller.apb_read ;
    %wait E_0x15b6ca000;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d5080_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ce0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d5250_0, 0, 1;
    %load/vec4 v0x15b6ca040_0;
    %store/vec4 v0x15b6d4b00_0, 0, 8;
    %wait E_0x15b6ca000;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4ce0_0, 0, 1;
    %wait E_0x15b6ca000;
    %load/vec4 v0x15b6d4d90_0;
    %store/vec4 v0x15b6ca0f0_0, 0, 32;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d5080_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ce0_0, 0, 1;
    %end;
S_0x15b6ca1a0 .scope task, "apb_write" "apb_write" 3 120, 3 120 0, S_0x15b6af070;
 .timescale -9 -12;
v0x15b6ca380_0 .var "addr", 7 0;
v0x15b6ca430_0 .var "data", 31 0;
TD_tb_spi_controller.apb_write ;
    %wait E_0x15b6ca000;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d5080_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ce0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d5250_0, 0, 1;
    %load/vec4 v0x15b6ca380_0;
    %store/vec4 v0x15b6d4b00_0, 0, 8;
    %load/vec4 v0x15b6ca430_0;
    %store/vec4 v0x15b6d51c0_0, 0, 32;
    %wait E_0x15b6ca000;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4ce0_0, 0, 1;
    %wait E_0x15b6ca000;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d5080_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ce0_0, 0, 1;
    %end;
S_0x15b6ca4e0 .scope module, "dut" "spi_controller" 3 80, 4 22 0, S_0x15b6af070;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "pclk_i";
    .port_info 1 /INPUT 1 "presetn_i";
    .port_info 2 /INPUT 1 "psel_i";
    .port_info 3 /INPUT 1 "penable_i";
    .port_info 4 /INPUT 1 "pwrite_i";
    .port_info 5 /INPUT 8 "paddr_i";
    .port_info 6 /INPUT 32 "pwdata_i";
    .port_info 7 /OUTPUT 32 "prdata_o";
    .port_info 8 /OUTPUT 1 "pready_o";
    .port_info 9 /OUTPUT 1 "pslverr_o";
    .port_info 10 /OUTPUT 1 "spi_clk_o";
    .port_info 11 /OUTPUT 1 "spi_mosi_o";
    .port_info 12 /INPUT 1 "spi_miso_i";
    .port_info 13 /OUTPUT 4 "spi_csn_o";
    .port_info 14 /OUTPUT 1 "spi_irq_o";
P_0x15b6ca6a0 .param/l "DATA_WIDTH" 0 4 23, +C4<00000000000000000000000000001000>;
P_0x15b6ca6e0 .param/l "FIFO_DEPTH" 0 4 24, +C4<00000000000000000000000000010000>;
P_0x15b6ca720 .param/l "MAX_FREQ_MHZ" 0 4 25, +C4<00000000000000000000000001100100>;
L_0x15b6d5da0 .functor AND 1, v0x15b6d5080_0, v0x15b6d4ce0_0, C4<1>, C4<1>;
L_0x15b6d5f70 .functor AND 1, L_0x15b6d5da0, L_0x15b6d5e90, C4<1>, C4<1>;
L_0x15b6d6180 .functor AND 1, L_0x15b6d5f70, L_0x15b6d6060, C4<1>, C4<1>;
L_0x15b6d8c30 .functor AND 1, L_0x15b6d8d40, L_0x15b6d8e60, C4<1>, C4<1>;
L_0x15b6d88e0 .functor AND 1, L_0x15b6d8530, L_0x15b6d91d0, C4<1>, C4<1>;
L_0x15b6d94b0 .functor AND 1, L_0x15b6d9410, L_0x15b6d7be0, C4<1>, C4<1>;
L_0x15b6d95a0 .functor AND 1, v0x15b6d2cd0_0, L_0x15b6d6b90, C4<1>, C4<1>;
L_0x15b6d96d0 .functor AND 1, L_0x15b6d6180, L_0x15b6d76d0, C4<1>, C4<1>;
L_0x15b6d9950 .functor AND 1, L_0x15b6d9800, L_0x15b6d9370, C4<1>, C4<1>;
L_0x15b6d9a90 .functor AND 1, L_0x15b6d9950, L_0x15b6d6dc0, C4<1>, C4<1>;
L_0x15b6d9b80 .functor AND 1, L_0x15b6d9a90, L_0x15b6d76d0, C4<1>, C4<1>;
L_0x15b6d9db0 .functor BUFZ 1, v0x15b6d4c50_0, C4<0>, C4<0>, C4<0>;
L_0x15b6da030 .functor AND 1, L_0x15b6d7be0, L_0x15b6d9ec0, C4<1>, C4<1>;
L_0x15b6da0a0 .functor NOT 4, L_0x15b6d9e20, C4<0000>, C4<0000>, C4<0000>;
L_0x15b6da270 .functor BUFZ 4, L_0x15b6da110, C4<0000>, C4<0000>, C4<0000>;
L_0x1500880a0 .functor BUFT 1, C4<00001100>, C4<0>, C4<0>, C4<0>;
v0x15b6cfb40_0 .net/2u *"_ivl_10", 7 0, L_0x1500880a0;  1 drivers
v0x15b6cfbe0_0 .net *"_ivl_12", 0 0, L_0x15b6d6060;  1 drivers
L_0x1500880e8 .functor BUFT 1, C4<00000000>, C4<0>, C4<0>, C4<0>;
v0x15b6cfc80_0 .net/2u *"_ivl_16", 7 0, L_0x1500880e8;  1 drivers
L_0x150088130 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x15b6cfd10_0 .net/2u *"_ivl_18", 0 0, L_0x150088130;  1 drivers
L_0x150088178 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x15b6cfda0_0 .net/2u *"_ivl_20", 0 0, L_0x150088178;  1 drivers
v0x15b6cfe90_0 .net *"_ivl_22", 25 0, L_0x15b6d62f0;  1 drivers
L_0x1500881c0 .functor BUFT 1, C4<000000>, C4<0>, C4<0>, C4<0>;
v0x15b6cff40_0 .net *"_ivl_27", 5 0, L_0x1500881c0;  1 drivers
L_0x1500884d8 .functor BUFT 1, C4<000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x15b6cfff0_0 .net/2u *"_ivl_28", 23 0, L_0x1500884d8;  1 drivers
v0x15b6d00a0_0 .net *"_ivl_5", 0 0, L_0x15b6d5da0;  1 drivers
v0x15b6d01b0_0 .net *"_ivl_51", 0 0, L_0x15b6d8d40;  1 drivers
v0x15b6d0240_0 .net *"_ivl_53", 0 0, L_0x15b6d8e60;  1 drivers
v0x15b6d02f0_0 .net *"_ivl_57", 0 0, L_0x15b6d8f80;  1 drivers
v0x15b6d03a0_0 .net *"_ivl_61", 0 0, L_0x15b6d91d0;  1 drivers
v0x15b6d0450_0 .net *"_ivl_65", 0 0, L_0x15b6d9410;  1 drivers
v0x15b6d0500_0 .net *"_ivl_7", 0 0, L_0x15b6d5e90;  1 drivers
v0x15b6d05a0_0 .net *"_ivl_75", 0 0, L_0x15b6d9370;  1 drivers
v0x15b6d0640_0 .net *"_ivl_77", 0 0, L_0x15b6d9950;  1 drivers
v0x15b6d07d0_0 .net *"_ivl_79", 0 0, L_0x15b6d9a90;  1 drivers
L_0x150088688 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x15b6d0860_0 .net/2u *"_ivl_82", 0 0, L_0x150088688;  1 drivers
v0x15b6d08f0_0 .net *"_ivl_9", 0 0, L_0x15b6d5f70;  1 drivers
v0x15b6d0990_0 .net *"_ivl_91", 0 0, L_0x15b6d9ec0;  1 drivers
v0x15b6d0a40_0 .net *"_ivl_93", 0 0, L_0x15b6da030;  1 drivers
v0x15b6d0ae0_0 .net *"_ivl_94", 3 0, L_0x15b6da0a0;  1 drivers
L_0x1500886d0 .functor BUFT 1, C4<1111>, C4<0>, C4<0>, C4<0>;
v0x15b6d0b90_0 .net/2u *"_ivl_96", 3 0, L_0x1500886d0;  1 drivers
v0x15b6d0c40_0 .net "auto_retry_enabled", 0 0, L_0x15b6da560;  1 drivers
v0x15b6d0ce0_0 .var "baud_reg", 31 0;
v0x15b6d0d90_0 .net "clock_gated", 0 0, L_0x15b6d9b80;  1 drivers
v0x15b6d0e30_0 .net "cs_output", 3 0, L_0x15b6da110;  1 drivers
v0x15b6d0ee0_0 .var "ctrl_reg", 31 0;
v0x15b6d0f90_0 .net "error_recovery_mode", 0 0, L_0x15b6da3e0;  1 drivers
v0x15b6d1030_0 .net "fifo_clk_gated", 0 0, L_0x15b6d9db0;  1 drivers
v0x15b6d1100_0 .var "fifo_reg", 31 0;
v0x15b6d1190_0 .var "int_reg", 31 0;
v0x15b6d06d0_0 .net "max_retries", 3 0, L_0x15b6d9f60;  1 drivers
v0x15b6d1420_0 .var "mode_reg", 31 0;
v0x15b6d14b0_0 .net "paddr_i", 7 0, v0x15b6d4b00_0;  1 drivers
v0x15b6d1540_0 .net "pclk_i", 0 0, v0x15b6d4c50_0;  1 drivers
v0x15b6d15d0_0 .net "penable_i", 0 0, v0x15b6d4ce0_0;  1 drivers
v0x15b6d1660_0 .net "power_down_mode", 0 0, L_0x15b6d9800;  1 drivers
v0x15b6d16f0_0 .var "prdata_o", 31 0;
v0x15b6d1780_0 .net "pready_o", 0 0, L_0x150088010;  alias, 1 drivers
v0x15b6d1820_0 .net "presetn_i", 0 0, v0x15b6d4ef0_0;  1 drivers
v0x15b6d18b0_0 .net "psel_i", 0 0, v0x15b6d5080_0;  1 drivers
v0x15b6d1950_0 .net "pslverr_o", 0 0, L_0x150088058;  alias, 1 drivers
v0x15b6d19f0_0 .net "pwdata_i", 31 0, v0x15b6d51c0_0;  1 drivers
v0x15b6d1aa0_0 .net "pwrite_i", 0 0, v0x15b6d5250_0;  1 drivers
v0x15b6d1b40_0 .var "recovery_in_progress", 0 0;
v0x15b6d1be0_0 .var "retry_count", 3 0;
v0x15b6d1c90_0 .net "rx_fifo_data", 31 0, L_0x15b6d7150;  1 drivers
v0x15b6d1d30_0 .net "rx_fifo_empty", 0 0, L_0x15b6d76d0;  1 drivers
v0x15b6d1de0_0 .net "rx_fifo_full", 0 0, L_0x15b6d7320;  1 drivers
v0x15b6d1e90_0 .net "rx_fifo_level", 4 0, L_0x15b6d77b0;  1 drivers
v0x15b6d1f40_0 .net "rx_fifo_rd", 0 0, L_0x15b6d6180;  1 drivers
v0x15b6d1ff0_0 .net "rx_fifo_underflow", 0 0, L_0x15b6d96d0;  1 drivers
v0x15b6d2080_0 .net "rx_fifo_wr", 0 0, L_0x15b6d8530;  1 drivers
v0x15b6d2130_0 .net "rx_fifo_wr_enabled", 0 0, L_0x15b6d88e0;  1 drivers
v0x15b6d21e0_0 .net "slave_select", 3 0, L_0x15b6d9e20;  1 drivers
v0x15b6d2270_0 .net "spi_busy", 0 0, L_0x15b6d7be0;  1 drivers
v0x15b6d2320_0 .net "spi_clk_gated", 0 0, L_0x15b6d9c50;  1 drivers
v0x15b6d23d0_0 .net "spi_clk_o", 0 0, L_0x15b6d7ab0;  alias, 1 drivers
v0x15b6d2480_0 .net "spi_csn_o", 3 0, L_0x15b6da270;  alias, 1 drivers
v0x15b6d2510_0 .net "spi_done", 0 0, L_0x15b6d82b0;  1 drivers
v0x15b6d25c0_0 .var "spi_irq_o", 0 0;
v0x15b6d2650_0 .net "spi_miso_i", 0 0, L_0x15b6da6f0;  alias, 1 drivers
v0x15b6d26e0_0 .net "spi_mosi_o", 0 0, L_0x15b6d7b20;  alias, 1 drivers
v0x15b6d1240_0 .net "spi_rx_data", 7 0, v0x15b6cdcb0_0;  1 drivers
v0x15b6d12f0_0 .var "spi_timeout", 0 0;
v0x15b6d1380_0 .net "stat_reg", 31 0, L_0x15b6d65f0;  1 drivers
v0x15b6d2770_0 .var "timeout_counter", 15 0;
v0x15b6d2800_0 .net "timeout_enabled", 0 0, L_0x15b6d94b0;  1 drivers
v0x15b6d28a0_0 .net "tx_fifo_data", 31 0, L_0x15b6d68d0;  1 drivers
v0x15b6d2960_0 .net "tx_fifo_empty", 0 0, L_0x15b6d6dc0;  1 drivers
v0x15b6d2a10_0 .net "tx_fifo_full", 0 0, L_0x15b6d6b90;  1 drivers
v0x15b6d2ac0_0 .net "tx_fifo_level", 4 0, L_0x15b6d6f20;  1 drivers
v0x15b6d2b70_0 .net "tx_fifo_overflow", 0 0, L_0x15b6d95a0;  1 drivers
v0x15b6d2c00_0 .net "tx_fifo_rd", 0 0, L_0x15b6d83e0;  1 drivers
v0x15b6d2cd0_0 .var "tx_fifo_wr", 0 0;
v0x15b6d2d60_0 .var "txdata_reg", 31 0;
E_0x15b6caa70/0 .event negedge, v0x15b6cbf20_0;
E_0x15b6caa70/1 .event posedge, v0x15b6d1540_0;
E_0x15b6caa70 .event/or E_0x15b6caa70/0, E_0x15b6caa70/1;
E_0x15b6caad0/0 .event anyedge, v0x15b6d14b0_0, v0x15b6d0ee0_0, v0x15b6d1380_0, v0x15b6cb9d0_0;
E_0x15b6caad0/1 .event anyedge, v0x15b6d0ce0_0, v0x15b6d1100_0, v0x15b6d1190_0, v0x15b6d1420_0;
E_0x15b6caad0 .event/or E_0x15b6caad0/0, E_0x15b6caad0/1;
L_0x15b6d5e90 .reduce/nor v0x15b6d5250_0;
L_0x15b6d6060 .cmp/eq 8, v0x15b6d4b00_0, L_0x1500880a0;
LS_0x15b6d62f0_0_0 .concat [ 1 1 1 1], L_0x15b6d6b90, L_0x15b6d76d0, L_0x15b6d7be0, L_0x150088178;
LS_0x15b6d62f0_0_4 .concat [ 1 1 1 1], L_0x15b6d95a0, L_0x15b6d96d0, v0x15b6d12f0_0, L_0x150088130;
LS_0x15b6d62f0_0_8 .concat [ 5 5 8 0], L_0x15b6d6f20, L_0x15b6d77b0, L_0x1500880e8;
L_0x15b6d62f0 .concat [ 4 4 18 0], LS_0x15b6d62f0_0_0, LS_0x15b6d62f0_0_4, LS_0x15b6d62f0_0_8;
L_0x15b6d65f0 .concat [ 26 6 0 0], L_0x15b6d62f0, L_0x1500881c0;
L_0x15b6d7820 .concat [ 8 24 0 0], v0x15b6cdcb0_0, L_0x1500884d8;
L_0x15b6d85e0 .part v0x15b6d0ee0_0, 0, 1;
L_0x15b6d8680 .part v0x15b6d0ee0_0, 1, 1;
L_0x15b6d87a0 .part v0x15b6d0ee0_0, 2, 1;
L_0x15b6d8840 .part v0x15b6d0ee0_0, 3, 1;
L_0x15b6d89b0 .part v0x15b6d0ee0_0, 5, 1;
L_0x15b6d8a50 .part v0x15b6d1420_0, 0, 2;
L_0x15b6d8af0 .part v0x15b6d0ce0_0, 0, 16;
L_0x15b6d8b90 .part v0x15b6d1420_0, 8, 8;
L_0x15b6d8ca0 .part L_0x15b6d68d0, 0, 8;
L_0x15b6d8d40 .reduce/nor L_0x15b6d6dc0;
L_0x15b6d8e60 .part v0x15b6d0ee0_0, 1, 1;
L_0x15b6d8f80 .part v0x15b6d0ee0_0, 5, 1;
L_0x15b6d90b0 .functor MUXZ 1, L_0x15b6da6f0, L_0x15b6d7b20, L_0x15b6d8f80, C4<>;
L_0x15b6d91d0 .part v0x15b6d0ee0_0, 2, 1;
L_0x15b6d9410 .part v0x15b6d0ee0_0, 0, 1;
L_0x15b6d9800 .part v0x15b6d0ee0_0, 7, 1;
L_0x15b6d9370 .reduce/nor L_0x15b6d7be0;
L_0x15b6d9c50 .functor MUXZ 1, v0x15b6d4c50_0, L_0x150088688, L_0x15b6d9b80, C4<>;
L_0x15b6d9e20 .part v0x15b6d0ee0_0, 8, 4;
L_0x15b6d9ec0 .part v0x15b6d0ee0_0, 3, 1;
L_0x15b6da110 .functor MUXZ 4, L_0x1500886d0, L_0x15b6da0a0, L_0x15b6da030, C4<>;
L_0x15b6da3e0 .part v0x15b6d0ee0_0, 12, 1;
L_0x15b6da560 .part v0x15b6d0ee0_0, 13, 1;
L_0x15b6d9f60 .part v0x15b6d0ee0_0, 16, 4;
S_0x15b6cab50 .scope module, "rx_fifo" "spi_fifo" 4 198, 5 19 0, S_0x15b6ca4e0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk_i";
    .port_info 1 /INPUT 1 "reset_n_i";
    .port_info 2 /INPUT 1 "wr_i";
    .port_info 3 /INPUT 32 "data_i";
    .port_info 4 /OUTPUT 1 "full_o";
    .port_info 5 /INPUT 1 "rd_i";
    .port_info 6 /OUTPUT 32 "data_o";
    .port_info 7 /OUTPUT 1 "empty_o";
    .port_info 8 /OUTPUT 5 "level_o";
P_0x15b6cad20 .param/l "ADDR_WIDTH" 1 5 42, +C4<00000000000000000000000000000100>;
P_0x15b6cad60 .param/l "DATA_WIDTH" 0 5 20, +C4<00000000000000000000000000100000>;
P_0x15b6cada0 .param/l "FIFO_DEPTH" 0 5 21, +C4<00000000000000000000000000010000>;
L_0x15b6d7150 .functor BUFZ 32, L_0x15b6d6f90, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>;
L_0x15b6d77b0 .functor BUFZ 5, v0x15b6cb870_0, C4<00000>, C4<00000>, C4<00000>;
v0x15b6cb160_0 .net *"_ivl_0", 31 0, L_0x15b6d6f90;  1 drivers
L_0x1500883b8 .functor BUFT 1, C4<000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x15b6cb220_0 .net *"_ivl_11", 26 0, L_0x1500883b8;  1 drivers
L_0x150088400 .functor BUFT 1, C4<00000000000000000000000000010000>, C4<0>, C4<0>, C4<0>;
v0x15b6cb2c0_0 .net/2u *"_ivl_12", 31 0, L_0x150088400;  1 drivers
v0x15b6cb350_0 .net *"_ivl_16", 31 0, L_0x15b6d7480;  1 drivers
L_0x150088448 .functor BUFT 1, C4<000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x15b6cb3e0_0 .net *"_ivl_19", 26 0, L_0x150088448;  1 drivers
v0x15b6cb4b0_0 .net *"_ivl_2", 5 0, L_0x15b6d7030;  1 drivers
L_0x150088490 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x15b6cb560_0 .net/2u *"_ivl_20", 31 0, L_0x150088490;  1 drivers
L_0x150088370 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x15b6cb610_0 .net *"_ivl_5", 1 0, L_0x150088370;  1 drivers
v0x15b6cb6c0_0 .net *"_ivl_8", 31 0, L_0x15b6d7240;  1 drivers
v0x15b6cb7d0_0 .net "clk_i", 0 0, L_0x15b6d9db0;  alias, 1 drivers
v0x15b6cb870_0 .var "count", 4 0;
v0x15b6cb920_0 .net "data_i", 31 0, L_0x15b6d7820;  1 drivers
v0x15b6cb9d0_0 .net "data_o", 31 0, L_0x15b6d7150;  alias, 1 drivers
v0x15b6cba80_0 .net "empty_o", 0 0, L_0x15b6d76d0;  alias, 1 drivers
v0x15b6cbb20 .array "fifo_mem", 0 15, 31 0;
v0x15b6cbbc0_0 .net "full_o", 0 0, L_0x15b6d7320;  alias, 1 drivers
v0x15b6cbc60_0 .net "level_o", 4 0, L_0x15b6d77b0;  alias, 1 drivers
v0x15b6cbdf0_0 .net "rd_i", 0 0, L_0x15b6d6180;  alias, 1 drivers
v0x15b6cbe80_0 .var "rd_ptr", 3 0;
v0x15b6cbf20_0 .net "reset_n_i", 0 0, v0x15b6d4ef0_0;  alias, 1 drivers
v0x15b6cbfc0_0 .net "wr_i", 0 0, L_0x15b6d88e0;  alias, 1 drivers
v0x15b6cc060_0 .var "wr_ptr", 3 0;
E_0x15b6cb0b0/0 .event negedge, v0x15b6cbf20_0;
E_0x15b6cb0b0/1 .event posedge, v0x15b6cb7d0_0;
E_0x15b6cb0b0 .event/or E_0x15b6cb0b0/0, E_0x15b6cb0b0/1;
E_0x15b6cb110 .event posedge, v0x15b6cb7d0_0;
L_0x15b6d6f90 .array/port v0x15b6cbb20, L_0x15b6d7030;
L_0x15b6d7030 .concat [ 4 2 0 0], v0x15b6cbe80_0, L_0x150088370;
L_0x15b6d7240 .concat [ 5 27 0 0], v0x15b6cb870_0, L_0x1500883b8;
L_0x15b6d7320 .cmp/eq 32, L_0x15b6d7240, L_0x150088400;
L_0x15b6d7480 .concat [ 5 27 0 0], v0x15b6cb870_0, L_0x150088448;
L_0x15b6d76d0 .cmp/eq 32, L_0x15b6d7480, L_0x150088490;
S_0x15b6cc1f0 .scope module, "spi_engine" "spi_protocol_engine" 4 213, 6 27 0, S_0x15b6ca4e0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk_i";
    .port_info 1 /INPUT 1 "reset_n_i";
    .port_info 2 /INPUT 1 "enable_i";
    .port_info 3 /INPUT 1 "tx_enable_i";
    .port_info 4 /INPUT 1 "rx_enable_i";
    .port_info 5 /INPUT 1 "cs_enable_i";
    .port_info 6 /INPUT 1 "loopback_i";
    .port_info 7 /INPUT 2 "mode_i";
    .port_info 8 /INPUT 16 "baud_div_i";
    .port_info 9 /INPUT 8 "cs_delay_i";
    .port_info 10 /INPUT 8 "tx_data_i";
    .port_info 11 /INPUT 1 "tx_valid_i";
    .port_info 12 /OUTPUT 1 "tx_ready_o";
    .port_info 13 /OUTPUT 8 "rx_data_o";
    .port_info 14 /OUTPUT 1 "rx_valid_o";
    .port_info 15 /OUTPUT 1 "spi_clk_o";
    .port_info 16 /OUTPUT 1 "spi_mosi_o";
    .port_info 17 /INPUT 1 "spi_miso_i";
    .port_info 18 /OUTPUT 1 "busy_o";
    .port_info 19 /OUTPUT 1 "done_o";
P_0x15b6cc360 .param/l "BIT_COUNTER_WIDTH" 1 6 64, +C4<00000000000000000000000000000011>;
P_0x15b6cc3a0 .param/l "COUNTER_WIDTH" 1 6 63, +C4<00000000000000000000000000010000>;
P_0x15b6cc3e0 .param/l "DATA_WIDTH" 0 6 28, +C4<00000000000000000000000000001000>;
enum0x15b669ae0 .enum4 (3)
   "IDLE" 3'b000,
   "START" 3'b001,
   "CS_DELAY" 3'b010,
   "TRANSFER" 3'b011,
   "STOP" 3'b100
 ;
L_0x15b6d7ab0 .functor BUFZ 1, v0x15b6cddd0_0, C4<0>, C4<0>, C4<0>;
L_0x15b6d80d0 .functor AND 1, L_0x15b6d7ce0, L_0x15b6d7f50, C4<1>, C4<1>;
L_0x15b6d81c0 .functor XNOR 1, v0x15b6cddd0_0, L_0x15b6d7930, C4<0>, C4<0>;
L_0x15b6d82b0 .functor AND 1, L_0x15b6d80d0, L_0x15b6d81c0, C4<1>, C4<1>;
L_0x15b6d8530 .functor BUFZ 1, L_0x15b6d82b0, C4<0>, C4<0>, C4<0>;
L_0x150088568 .functor BUFT 1, C4<100>, C4<0>, C4<0>, C4<0>;
v0x15b6cc8c0_0 .net/2u *"_ivl_12", 2 0, L_0x150088568;  1 drivers
v0x15b6cc980_0 .net *"_ivl_14", 0 0, L_0x15b6d7ce0;  1 drivers
v0x15b6cca20_0 .net *"_ivl_16", 31 0, L_0x15b6d7e50;  1 drivers
L_0x1500885b0 .functor BUFT 1, C4<0000000000000000>, C4<0>, C4<0>, C4<0>;
v0x15b6ccab0_0 .net *"_ivl_19", 15 0, L_0x1500885b0;  1 drivers
L_0x1500885f8 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x15b6ccb40_0 .net/2u *"_ivl_20", 31 0, L_0x1500885f8;  1 drivers
v0x15b6ccc10_0 .net *"_ivl_22", 0 0, L_0x15b6d7f50;  1 drivers
v0x15b6ccca0_0 .net *"_ivl_25", 0 0, L_0x15b6d80d0;  1 drivers
v0x15b6ccd40_0 .net *"_ivl_26", 0 0, L_0x15b6d81c0;  1 drivers
L_0x150088640 .functor BUFT 1, C4<000>, C4<0>, C4<0>, C4<0>;
v0x15b6ccde0_0 .net/2u *"_ivl_30", 2 0, L_0x150088640;  1 drivers
L_0x150088520 .functor BUFT 1, C4<000>, C4<0>, C4<0>, C4<0>;
v0x15b6ccef0_0 .net/2u *"_ivl_8", 2 0, L_0x150088520;  1 drivers
v0x15b6ccfa0_0 .net "baud_div_i", 15 0, L_0x15b6d8af0;  1 drivers
v0x15b6cd050_0 .var "bit_counter", 2 0;
v0x15b6cd100_0 .net "busy_o", 0 0, L_0x15b6d7be0;  alias, 1 drivers
v0x15b6cd1a0_0 .var "clk_counter", 15 0;
v0x15b6cd250_0 .net "clk_i", 0 0, L_0x15b6d9c50;  alias, 1 drivers
v0x15b6cd2f0_0 .net "cpha", 0 0, L_0x15b6d79d0;  1 drivers
v0x15b6cd390_0 .net "cpol", 0 0, L_0x15b6d7930;  1 drivers
v0x15b6cd520_0 .var "cs_delay_counter", 7 0;
v0x15b6cd5b0_0 .net "cs_delay_i", 7 0, L_0x15b6d8b90;  1 drivers
v0x15b6cd650_0 .net "cs_enable_i", 0 0, L_0x15b6d8840;  1 drivers
v0x15b6cd6f0_0 .var "current_state", 2 0;
v0x15b6cd7a0_0 .net "done_o", 0 0, L_0x15b6d82b0;  alias, 1 drivers
v0x15b6cd840_0 .net "enable_i", 0 0, L_0x15b6d85e0;  1 drivers
v0x15b6cd8e0_0 .net "loopback_i", 0 0, L_0x15b6d89b0;  1 drivers
v0x15b6cd980_0 .net "mode_i", 1 0, L_0x15b6d8a50;  1 drivers
v0x15b6cda30_0 .var "next_state", 2 0;
v0x15b6cdae0_0 .net "reset_n_i", 0 0, v0x15b6d4ef0_0;  alias, 1 drivers
v0x15b6cdb90_0 .net "rx_data_o", 7 0, v0x15b6cdcb0_0;  alias, 1 drivers
v0x15b6cdc20_0 .net "rx_enable_i", 0 0, L_0x15b6d87a0;  1 drivers
v0x15b6cdcb0_0 .var "rx_shift_reg", 7 0;
v0x15b6cdd40_0 .net "rx_valid_o", 0 0, L_0x15b6d8530;  alias, 1 drivers
v0x15b6cddd0_0 .var "spi_clk_internal", 0 0;
v0x15b6cde60_0 .net "spi_clk_o", 0 0, L_0x15b6d7ab0;  alias, 1 drivers
v0x15b6cd420_0 .net "spi_miso_i", 0 0, L_0x15b6d90b0;  1 drivers
v0x15b6ce0f0_0 .net "spi_mosi_o", 0 0, L_0x15b6d7b20;  alias, 1 drivers
v0x15b6ce180_0 .net "tx_data_i", 7 0, L_0x15b6d8ca0;  1 drivers
v0x15b6ce210_0 .net "tx_enable_i", 0 0, L_0x15b6d8680;  1 drivers
v0x15b6ce2a0_0 .net "tx_ready_o", 0 0, L_0x15b6d83e0;  alias, 1 drivers
v0x15b6ce330_0 .var "tx_shift_reg", 7 0;
v0x15b6ce3c0_0 .net "tx_valid_i", 0 0, L_0x15b6d8c30;  1 drivers
E_0x15b6cc7e0/0 .event negedge, v0x15b6cbf20_0;
E_0x15b6cc7e0/1 .event posedge, v0x15b6cd250_0;
E_0x15b6cc7e0 .event/or E_0x15b6cc7e0/0, E_0x15b6cc7e0/1;
E_0x15b6cc820/0 .event anyedge, v0x15b6cd6f0_0, v0x15b6cd840_0, v0x15b6ce3c0_0, v0x15b6cd5b0_0;
E_0x15b6cc820/1 .event anyedge, v0x15b6cd520_0, v0x15b6cd050_0, v0x15b6cd1a0_0, v0x15b6cddd0_0;
E_0x15b6cc820/2 .event anyedge, v0x15b6cd390_0, v0x15b6cd2f0_0;
E_0x15b6cc820 .event/or E_0x15b6cc820/0, E_0x15b6cc820/1, E_0x15b6cc820/2;
L_0x15b6d7930 .part L_0x15b6d8a50, 1, 1;
L_0x15b6d79d0 .part L_0x15b6d8a50, 0, 1;
L_0x15b6d7b20 .part v0x15b6ce330_0, 7, 1;
L_0x15b6d7be0 .cmp/ne 3, v0x15b6cd6f0_0, L_0x150088520;
L_0x15b6d7ce0 .cmp/eq 3, v0x15b6cd6f0_0, L_0x150088568;
L_0x15b6d7e50 .concat [ 16 16 0 0], v0x15b6cd1a0_0, L_0x1500885b0;
L_0x15b6d7f50 .cmp/eq 32, L_0x15b6d7e50, L_0x1500885f8;
L_0x15b6d83e0 .cmp/eq 3, v0x15b6cd6f0_0, L_0x150088640;
S_0x15b6ce640 .scope module, "tx_fifo" "spi_fifo" 4 183, 5 19 0, S_0x15b6ca4e0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk_i";
    .port_info 1 /INPUT 1 "reset_n_i";
    .port_info 2 /INPUT 1 "wr_i";
    .port_info 3 /INPUT 32 "data_i";
    .port_info 4 /OUTPUT 1 "full_o";
    .port_info 5 /INPUT 1 "rd_i";
    .port_info 6 /OUTPUT 32 "data_o";
    .port_info 7 /OUTPUT 1 "empty_o";
    .port_info 8 /OUTPUT 5 "level_o";
P_0x15b6ce820 .param/l "ADDR_WIDTH" 1 5 42, +C4<00000000000000000000000000000100>;
P_0x15b6ce860 .param/l "DATA_WIDTH" 0 5 20, +C4<00000000000000000000000000100000>;
P_0x15b6ce8a0 .param/l "FIFO_DEPTH" 0 5 21, +C4<00000000000000000000000000010000>;
L_0x15b6d68d0 .functor BUFZ 32, L_0x15b6d6710, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>;
L_0x15b6d6f20 .functor BUFZ 5, v0x15b6cf220_0, C4<00000>, C4<00000>, C4<00000>;
v0x15b6ceb10_0 .net *"_ivl_0", 31 0, L_0x15b6d6710;  1 drivers
L_0x150088250 .functor BUFT 1, C4<000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x15b6cebc0_0 .net *"_ivl_11", 26 0, L_0x150088250;  1 drivers
L_0x150088298 .functor BUFT 1, C4<00000000000000000000000000010000>, C4<0>, C4<0>, C4<0>;
v0x15b6cec60_0 .net/2u *"_ivl_12", 31 0, L_0x150088298;  1 drivers
v0x15b6cecf0_0 .net *"_ivl_16", 31 0, L_0x15b6d6c70;  1 drivers
L_0x1500882e0 .functor BUFT 1, C4<000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x15b6ced80_0 .net *"_ivl_19", 26 0, L_0x1500882e0;  1 drivers
v0x15b6cee50_0 .net *"_ivl_2", 5 0, L_0x15b6d67b0;  1 drivers
L_0x150088328 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x15b6cef00_0 .net/2u *"_ivl_20", 31 0, L_0x150088328;  1 drivers
L_0x150088208 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x15b6cefb0_0 .net *"_ivl_5", 1 0, L_0x150088208;  1 drivers
v0x15b6cf060_0 .net *"_ivl_8", 31 0, L_0x15b6d69c0;  1 drivers
v0x15b6cf170_0 .net "clk_i", 0 0, L_0x15b6d9db0;  alias, 1 drivers
v0x15b6cf220_0 .var "count", 4 0;
v0x15b6cf2b0_0 .net "data_i", 31 0, v0x15b6d2d60_0;  1 drivers
v0x15b6cf340_0 .net "data_o", 31 0, L_0x15b6d68d0;  alias, 1 drivers
v0x15b6cf3e0_0 .net "empty_o", 0 0, L_0x15b6d6dc0;  alias, 1 drivers
v0x15b6cf480 .array "fifo_mem", 0 15, 31 0;
v0x15b6cf520_0 .net "full_o", 0 0, L_0x15b6d6b90;  alias, 1 drivers
v0x15b6cf5c0_0 .net "level_o", 4 0, L_0x15b6d6f20;  alias, 1 drivers
v0x15b6cf770_0 .net "rd_i", 0 0, L_0x15b6d83e0;  alias, 1 drivers
v0x15b6cf820_0 .var "rd_ptr", 3 0;
v0x15b6cf8b0_0 .net "reset_n_i", 0 0, v0x15b6d4ef0_0;  alias, 1 drivers
v0x15b6cf940_0 .net "wr_i", 0 0, v0x15b6d2cd0_0;  1 drivers
v0x15b6cf9d0_0 .var "wr_ptr", 3 0;
L_0x15b6d6710 .array/port v0x15b6cf480, L_0x15b6d67b0;
L_0x15b6d67b0 .concat [ 4 2 0 0], v0x15b6cf820_0, L_0x150088208;
L_0x15b6d69c0 .concat [ 5 27 0 0], v0x15b6cf220_0, L_0x150088250;
L_0x15b6d6b90 .cmp/eq 32, L_0x15b6d69c0, L_0x150088298;
L_0x15b6d6c70 .concat [ 5 27 0 0], v0x15b6cf220_0, L_0x1500882e0;
L_0x15b6d6dc0 .cmp/eq 32, L_0x15b6d6c70, L_0x150088328;
S_0x15b6d2f50 .scope task, "test_cs_delay" "test_cs_delay" 3 262, 3 262 0, S_0x15b6af070;
 .timescale -9 -12;
TD_tb_spi_controller.test_cs_delay ;
    %vpi_call/w 3 264 "$display", "Testing Chip Select Delay..." {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 28, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 10, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 8, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 170, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %delay 1000000, 0;
    %vpi_call/w 3 282 "$display", "PASS: Chip select delay test completed" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d43f0_0, 0, 1;
    %end;
S_0x15b6d3150 .scope task, "test_error_detection" "test_error_detection" 3 188, 3 188 0, S_0x15b6af070;
 .timescale -9 -12;
TD_tb_spi_controller.test_error_detection ;
    %vpi_call/w 3 190 "$display", "Testing Error Detection..." {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 24, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %vpi_call/w 3 204 "$display", "Initial error status: timeout=%b, rx_underflow=%b, tx_overflow=%b", &PV<v0x15b6d5960_0, 6, 1>, &PV<v0x15b6d5960_0, 5, 1>, &PV<v0x15b6d5960_0, 4, 1> {0 0 0};
    %load/vec4 v0x15b6d5960_0;
    %parti/s 3, 4, 4;
    %cmpi/e 0, 0, 3;
    %jmp/0xz  T_3.0, 4;
    %vpi_call/w 3 207 "$display", "PASS: No initial errors detected" {0 0 0};
    %jmp T_3.1;
T_3.0 ;
    %vpi_call/w 3 209 "$display", "INFO: Initial errors detected - this may be normal from previous tests" {0 0 0};
T_3.1 ;
    %pushi/vec4 8, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 170, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %delay 10000000, 0;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %load/vec4 v0x15b6d5960_0;
    %parti/s 1, 6, 4;
    %cmpi/e 1, 0, 1;
    %jmp/0xz  T_3.2, 4;
    %vpi_call/w 3 218 "$display", "PASS: Timeout detection working" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d5c90_0, 0, 1;
    %jmp T_3.3;
T_3.2 ;
    %vpi_call/w 3 221 "$display", "INFO: No timeout detected (may be normal)" {0 0 0};
T_3.3 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d45e0_0, 0, 1;
    %end;
S_0x15b6d32c0 .scope task, "test_fifo_overflow" "test_fifo_overflow" 3 288, 3 288 0, S_0x15b6af070;
 .timescale -9 -12;
TD_tb_spi_controller.test_fifo_overflow ;
    %vpi_call/w 3 290 "$display", "Testing FIFO Overflow..." {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 2, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 16, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 10, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %vpi_call/w 3 304 "$display", "Initial status: 0x%08h, TX full=%b, TX level=%0d", v0x15b6d5960_0, &PV<v0x15b6d5960_0, 0, 1>, &PV<v0x15b6d5960_0, 8, 8> {0 0 0};
    %pushi/vec4 8, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 170, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %delay 50000, 0;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %vpi_call/w 3 312 "$display", "After first write: status=0x%08h, TX full=%b, TX level=%0d", v0x15b6d5960_0, &PV<v0x15b6d5960_0, 0, 1>, &PV<v0x15b6d5960_0, 8, 8> {0 0 0};
    %load/vec4 v0x15b6d5960_0;
    %parti/s 8, 8, 5;
    %pad/u 32;
    %cmpi/u 0, 0, 32;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %jmp/0xz  T_4.4, 5;
    %fork t_1, S_0x15b6d3480;
    %jmp t_0;
    .scope S_0x15b6d3480;
t_1 ;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x15b6d3640_0, 0, 32;
T_4.6 ;
    %load/vec4 v0x15b6d3640_0;
    %cmpi/s 20, 0, 32;
    %jmp/0xz T_4.7, 5;
    %pushi/vec4 8, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 0, 0, 24;
    %ix/getv/s 4, v0x15b6d3640_0;
    %load/vec4a v0x15b6d4fa0, 4;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %delay 20000, 0;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %load/vec4 v0x15b6d3640_0;
    %cmpi/s 5, 0, 32;
    %jmp/1 T_4.10, 5;
    %flag_mov 8, 5;
    %load/vec4 v0x15b6d3640_0;
    %cmpi/s 15, 0, 32;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %flag_or 5, 8;
T_4.10;
    %jmp/0xz  T_4.8, 5;
    %load/vec4 v0x15b6d3640_0;
    %addi 1, 0, 32;
    %vpi_call/w 3 324 "$display", "After write %0d: status=0x%08h, TX full=%b, TX level=%0d", S<0,vec4,s32>, v0x15b6d5960_0, &PV<v0x15b6d5960_0, 0, 1>, &PV<v0x15b6d5960_0, 8, 8> {1 0 0};
T_4.8 ;
    %load/vec4 v0x15b6d5960_0;
    %parti/s 1, 0, 2;
    %cmpi/e 1, 0, 1;
    %jmp/0xz  T_4.11, 4;
    %load/vec4 v0x15b6d3640_0;
    %addi 1, 0, 32;
    %vpi_call/w 3 329 "$display", "PASS: FIFO overflow detected at write %0d", S<0,vec4,s32> {1 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4770_0, 0, 1;
    %pushi/vec4 20, 0, 32;
    %store/vec4 v0x15b6d3640_0, 0, 32;
T_4.11 ;
    %load/vec4 v0x15b6d3640_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d3640_0, 0, 32;
    %jmp T_4.6;
T_4.7 ;
    %end;
    .scope S_0x15b6d32c0;
t_0 %join;
    %jmp T_4.5;
T_4.4 ;
    %vpi_call/w 3 335 "$display", "WARNING: FIFO writes not being accepted - possible RTL issue" {0 0 0};
T_4.5 ;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %load/vec4 v0x15b6d5960_0;
    %parti/s 1, 0, 2;
    %cmpi/e 1, 0, 1;
    %jmp/0xz  T_4.13, 4;
    %vpi_call/w 3 341 "$display", "PASS: FIFO overflow confirmed (TX FIFO full)" {0 0 0};
    %jmp T_4.14;
T_4.13 ;
    %vpi_call/w 3 343 "$display", "INFO: FIFO overflow test completed (TX level: %0d)", &PV<v0x15b6d5960_0, 8, 8> {0 0 0};
T_4.14 ;
    %end;
S_0x15b6d3480 .scope begin, "$ivl_for_loop0" "$ivl_for_loop0" 3 318, 3 318 0, S_0x15b6d32c0;
 .timescale -9 -12;
v0x15b6d3640_0 .var/i "i", 31 0;
S_0x15b6d36e0 .scope task, "test_fifo_underflow" "test_fifo_underflow" 3 349, 3 349 0, S_0x15b6af070;
 .timescale -9 -12;
TD_tb_spi_controller.test_fifo_underflow ;
    %vpi_call/w 3 351 "$display", "Testing FIFO Underflow..." {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 16, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 10, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %vpi_call/w 3 365 "$display", "Initial status: 0x%08h (RX empty: %b, RX level: %0d)", v0x15b6d5960_0, &PV<v0x15b6d5960_0, 1, 1>, &PV<v0x15b6d5960_0, 16, 8> {0 0 0};
    %load/vec4 v0x15b6d5960_0;
    %parti/s 1, 1, 2;
    %cmpi/e 1, 0, 1;
    %jmp/0xz  T_5.15, 4;
    %vpi_call/w 3 368 "$display", "PASS: RX FIFO is empty initially" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4810_0, 0, 1;
    %jmp T_5.16;
T_5.15 ;
    %vpi_call/w 3 371 "$display", "INFO: RX FIFO is not empty initially (level: %0d) - clearing it", &PV<v0x15b6d5960_0, 16, 8> {0 0 0};
    %pushi/vec4 12, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %pad/u 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x15b6d5300, 4, 0;
    %pushi/vec4 12, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %pad/u 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x15b6d5300, 4, 0;
    %pushi/vec4 12, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %pad/u 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x15b6d5300, 4, 0;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %vpi_call/w 3 378 "$display", "INFO: RX FIFO clearing attempted - proceeding with test" {0 0 0};
T_5.16 ;
    %pushi/vec4 12, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %pad/u 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x15b6d5300, 4, 0;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %load/vec4 v0x15b6d5960_0;
    %parti/s 1, 1, 2;
    %cmpi/e 1, 0, 1;
    %flag_get/vec4 4;
    %jmp/0 T_5.19, 4;
    %load/vec4 v0x15b6d5960_0;
    %parti/s 1, 5, 4;
    %pushi/vec4 0, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_5.19;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.17, 8;
    %vpi_call/w 3 387 "$display", "PASS: FIFO underflow protection working correctly" {0 0 0};
    %jmp T_5.18;
T_5.17 ;
    %vpi_call/w 3 389 "$display", "FAIL: FIFO underflow protection not working" {0 0 0};
T_5.18 ;
    %end;
S_0x15b6d38a0 .scope task, "test_interrupt_generation" "test_interrupt_generation" 3 395, 3 395 0, S_0x15b6af070;
 .timescale -9 -12;
TD_tb_spi_controller.test_interrupt_generation ;
    %vpi_call/w 3 397 "$display", "Testing Interrupt Generation..." {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 16, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 10, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 24, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 7, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %delay 200000, 0;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %vpi_call/w 3 417 "$display", "Initial status: 0x%08h (TX empty: %b, RX empty: %b, busy: %b)", v0x15b6d5960_0, &PV<v0x15b6d5960_0, 0, 1>, &PV<v0x15b6d5960_0, 1, 1>, &PV<v0x15b6d5960_0, 2, 1> {0 0 0};
    %load/vec4 v0x15b6d56a0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.20, 8;
    %vpi_call/w 3 422 "$display", "PASS: TX FIFO empty interrupt generated" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d48b0_0, 0, 1;
    %jmp T_6.21;
T_6.20 ;
    %vpi_call/w 3 425 "$display", "FAIL: TX FIFO empty interrupt not generated" {0 0 0};
T_6.21 ;
    %pushi/vec4 8, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 170, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %delay 50000, 0;
    %load/vec4 v0x15b6d56a0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.22, 8;
    %vpi_call/w 3 434 "$display", "PASS: Interrupt cleared when TX FIFO not empty" {0 0 0};
    %jmp T_6.23;
T_6.22 ;
    %vpi_call/w 3 436 "$display", "INFO: Interrupt still active (may be due to other conditions)" {0 0 0};
T_6.23 ;
    %delay 1000000, 0;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %vpi_call/w 3 444 "$display", "Final status: 0x%08h (TX empty: %b, RX empty: %b, busy: %b)", v0x15b6d5960_0, &PV<v0x15b6d5960_0, 0, 1>, &PV<v0x15b6d5960_0, 1, 1>, &PV<v0x15b6d5960_0, 2, 1> {0 0 0};
    %load/vec4 v0x15b6d56a0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.24, 8;
    %vpi_call/w 3 448 "$display", "PASS: Transfer complete interrupt generated" {0 0 0};
    %jmp T_6.25;
T_6.24 ;
    %vpi_call/w 3 450 "$display", "FAIL: Transfer complete interrupt not generated" {0 0 0};
T_6.25 ;
    %pushi/vec4 24, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d4950_0, 0, 32;
    %vpi_call/w 3 455 "$display", "Interrupt configuration: 0x%08h", v0x15b6d4950_0 {0 0 0};
    %end;
S_0x15b6d3ae0 .scope task, "test_loopback_mode" "test_loopback_mode" 3 229, 3 229 0, S_0x15b6af070;
 .timescale -9 -12;
TD_tb_spi_controller.test_loopback_mode ;
    %vpi_call/w 3 231 "$display", "Testing Loopback Mode..." {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 39, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 16, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 10, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 8, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 85, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %delay 2000000, 0;
    %pushi/vec4 12, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %pad/u 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %store/vec4a v0x15b6d5300, 4, 0;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x15b6d5300, 4;
    %cmpi/e 85, 0, 8;
    %jmp/0xz  T_7.26, 4;
    %vpi_call/w 3 253 "$display", "PASS: Loopback mode working correctly" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4a60_0, 0, 1;
    %jmp T_7.27;
T_7.26 ;
    %vpi_call/w 3 256 "$display", "FAIL: Loopback mode failed, expected 0x55, got 0x%02h", &A<v0x15b6d5300, 0> {0 0 0};
T_7.27 ;
    %end;
S_0x15b6d3ca0 .scope task, "test_performance" "test_performance" 3 460, 3 460 0, S_0x15b6af070;
 .timescale -9 -12;
TD_tb_spi_controller.test_performance ;
    %vpi_call/w 3 462 "$display", "Testing Performance..." {0 0 0};
    %vpi_func 3 464 "$time" 64 {0 0 0};
    %pad/u 32;
    %store/vec4 v0x15b6d58d0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6d4480_0, 0, 32;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 16, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 10, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %fork t_3, S_0x15b6d3e60;
    %jmp t_2;
    .scope S_0x15b6d3e60;
t_3 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6d4020_0, 0, 32;
T_8.28 ;
    %load/vec4 v0x15b6d4020_0;
    %cmpi/s 10, 0, 32;
    %jmp/0xz T_8.29, 5;
    %pushi/vec4 8, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 0, 0, 24;
    %ix/getv/s 4, v0x15b6d4020_0;
    %load/vec4a v0x15b6d4fa0, 4;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %load/vec4 v0x15b6d4480_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4480_0, 0, 32;
    %delay 100000, 0;
    %load/vec4 v0x15b6d4020_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4020_0, 0, 32;
    %jmp T_8.28;
T_8.29 ;
    %end;
    .scope S_0x15b6d3ca0;
t_2 %join;
    %vpi_func 3 478 "$time" 64 {0 0 0};
    %pad/u 32;
    %store/vec4 v0x15b6d4520_0, 0, 32;
    %vpi_call/w 3 480 "$display", "Performance Results:" {0 0 0};
    %load/vec4 v0x15b6d4520_0;
    %load/vec4 v0x15b6d58d0_0;
    %sub;
    %vpi_call/w 3 481 "$display", "  Total time: %0d ns", S<0,vec4,s32> {1 0 0};
    %vpi_call/w 3 482 "$display", "  Cycles: %0d", v0x15b6d4480_0 {0 0 0};
    %load/vec4 v0x15b6d4520_0;
    %load/vec4 v0x15b6d58d0_0;
    %sub;
    %load/vec4 v0x15b6d4480_0;
    %div/s;
    %vpi_call/w 3 483 "$display", "  Average time per cycle: %0d ns", S<0,vec4,s32> {1 0 0};
    %end;
S_0x15b6d3e60 .scope begin, "$ivl_for_loop1" "$ivl_for_loop1" 3 472, 3 472 0, S_0x15b6d3ca0;
 .timescale -9 -12;
v0x15b6d4020_0 .var/i "i", 31 0;
S_0x15b6d40d0 .scope task, "test_spi_mode" "test_spi_mode" 3 162, 3 162 0, S_0x15b6af070;
 .timescale -9 -12;
v0x15b6d4290_0 .var "mode", 1 0;
v0x15b6d4350_0 .var "test_data_in", 7 0;
TD_tb_spi_controller.test_spi_mode ;
    %vpi_call/w 3 166 "$display", "Testing SPI Mode %0d with data 0x%02h", v0x15b6d4290_0, v0x15b6d4350_0 {0 0 0};
    %pushi/vec4 28, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 0, 0, 30;
    %load/vec4 v0x15b6d4290_0;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 8, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 0, 0, 24;
    %load/vec4 v0x15b6d4350_0;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %delay 1000000, 0;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %load/vec4 v0x15b6d5960_0;
    %parti/s 1, 0, 2;
    %cmpi/e 0, 0, 1;
    %jmp/0xz  T_9.30, 4;
    %vpi_call/w 3 180 "$display", "PASS: SPI Mode %0d transmission completed", v0x15b6d4290_0 {0 0 0};
    %jmp T_9.31;
T_9.30 ;
    %vpi_call/w 3 182 "$display", "FAIL: SPI Mode %0d transmission failed", v0x15b6d4290_0 {0 0 0};
T_9.31 ;
    %end;
    .scope S_0x15b6ce640;
T_10 ;
    %wait E_0x15b6cb0b0;
    %load/vec4 v0x15b6cf8b0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.0, 8;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b6cf9d0_0, 0;
    %jmp T_10.1;
T_10.0 ;
    %load/vec4 v0x15b6cf940_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_10.4, 9;
    %load/vec4 v0x15b6cf520_0;
    %nor/r;
    %and;
T_10.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.2, 8;
    %load/vec4 v0x15b6cf9d0_0;
    %pad/u 32;
    %cmpi/e 15, 0, 32;
    %flag_mov 8, 4;
    %jmp/0 T_10.5, 8;
    %pushi/vec4 0, 0, 4;
    %jmp/1 T_10.6, 8;
T_10.5 ; End of true expr.
    %load/vec4 v0x15b6cf9d0_0;
    %addi 1, 0, 4;
    %jmp/0 T_10.6, 8;
 ; End of false expr.
    %blend;
T_10.6;
    %assign/vec4 v0x15b6cf9d0_0, 0;
T_10.2 ;
T_10.1 ;
    %jmp T_10;
    .thread T_10;
    .scope S_0x15b6ce640;
T_11 ;
    %wait E_0x15b6cb0b0;
    %load/vec4 v0x15b6cf8b0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.0, 8;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b6cf820_0, 0;
    %jmp T_11.1;
T_11.0 ;
    %load/vec4 v0x15b6cf770_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_11.4, 9;
    %load/vec4 v0x15b6cf3e0_0;
    %nor/r;
    %and;
T_11.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.2, 8;
    %load/vec4 v0x15b6cf820_0;
    %pad/u 32;
    %cmpi/e 15, 0, 32;
    %flag_mov 8, 4;
    %jmp/0 T_11.5, 8;
    %pushi/vec4 0, 0, 4;
    %jmp/1 T_11.6, 8;
T_11.5 ; End of true expr.
    %load/vec4 v0x15b6cf820_0;
    %addi 1, 0, 4;
    %jmp/0 T_11.6, 8;
 ; End of false expr.
    %blend;
T_11.6;
    %assign/vec4 v0x15b6cf820_0, 0;
T_11.2 ;
T_11.1 ;
    %jmp T_11;
    .thread T_11;
    .scope S_0x15b6ce640;
T_12 ;
    %wait E_0x15b6cb110;
    %load/vec4 v0x15b6cf940_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_12.2, 9;
    %load/vec4 v0x15b6cf520_0;
    %nor/r;
    %and;
T_12.2;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.0, 8;
    %load/vec4 v0x15b6cf2b0_0;
    %load/vec4 v0x15b6cf9d0_0;
    %pad/u 6;
    %ix/vec4 3;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x15b6cf480, 0, 4;
T_12.0 ;
    %jmp T_12;
    .thread T_12;
    .scope S_0x15b6ce640;
T_13 ;
    %wait E_0x15b6cb0b0;
    %load/vec4 v0x15b6cf8b0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_13.0, 8;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x15b6cf220_0, 0;
    %jmp T_13.1;
T_13.0 ;
    %load/vec4 v0x15b6cf940_0;
    %flag_set/vec4 8;
    %flag_get/vec4 8;
    %jmp/0 T_13.7, 8;
    %load/vec4 v0x15b6cf520_0;
    %nor/r;
    %and;
T_13.7;
    %load/vec4 v0x15b6cf770_0;
    %flag_set/vec4 8;
    %flag_get/vec4 8;
    %jmp/0 T_13.8, 8;
    %load/vec4 v0x15b6cf3e0_0;
    %nor/r;
    %and;
T_13.8;
    %concat/vec4; draw_concat_vec4
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_13.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_13.3, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_13.4, 6;
    %load/vec4 v0x15b6cf220_0;
    %assign/vec4 v0x15b6cf220_0, 0;
    %jmp T_13.6;
T_13.2 ;
    %load/vec4 v0x15b6cf220_0;
    %addi 1, 0, 5;
    %assign/vec4 v0x15b6cf220_0, 0;
    %jmp T_13.6;
T_13.3 ;
    %load/vec4 v0x15b6cf220_0;
    %subi 1, 0, 5;
    %assign/vec4 v0x15b6cf220_0, 0;
    %jmp T_13.6;
T_13.4 ;
    %load/vec4 v0x15b6cf220_0;
    %assign/vec4 v0x15b6cf220_0, 0;
    %jmp T_13.6;
T_13.6 ;
    %pop/vec4 1;
T_13.1 ;
    %jmp T_13;
    .thread T_13;
    .scope S_0x15b6cab50;
T_14 ;
    %wait E_0x15b6cb0b0;
    %load/vec4 v0x15b6cbf20_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.0, 8;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b6cc060_0, 0;
    %jmp T_14.1;
T_14.0 ;
    %load/vec4 v0x15b6cbfc0_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.4, 9;
    %load/vec4 v0x15b6cbbc0_0;
    %nor/r;
    %and;
T_14.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.2, 8;
    %load/vec4 v0x15b6cc060_0;
    %pad/u 32;
    %cmpi/e 15, 0, 32;
    %flag_mov 8, 4;
    %jmp/0 T_14.5, 8;
    %pushi/vec4 0, 0, 4;
    %jmp/1 T_14.6, 8;
T_14.5 ; End of true expr.
    %load/vec4 v0x15b6cc060_0;
    %addi 1, 0, 4;
    %jmp/0 T_14.6, 8;
 ; End of false expr.
    %blend;
T_14.6;
    %assign/vec4 v0x15b6cc060_0, 0;
T_14.2 ;
T_14.1 ;
    %jmp T_14;
    .thread T_14;
    .scope S_0x15b6cab50;
T_15 ;
    %wait E_0x15b6cb0b0;
    %load/vec4 v0x15b6cbf20_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_15.0, 8;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b6cbe80_0, 0;
    %jmp T_15.1;
T_15.0 ;
    %load/vec4 v0x15b6cbdf0_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_15.4, 9;
    %load/vec4 v0x15b6cba80_0;
    %nor/r;
    %and;
T_15.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_15.2, 8;
    %load/vec4 v0x15b6cbe80_0;
    %pad/u 32;
    %cmpi/e 15, 0, 32;
    %flag_mov 8, 4;
    %jmp/0 T_15.5, 8;
    %pushi/vec4 0, 0, 4;
    %jmp/1 T_15.6, 8;
T_15.5 ; End of true expr.
    %load/vec4 v0x15b6cbe80_0;
    %addi 1, 0, 4;
    %jmp/0 T_15.6, 8;
 ; End of false expr.
    %blend;
T_15.6;
    %assign/vec4 v0x15b6cbe80_0, 0;
T_15.2 ;
T_15.1 ;
    %jmp T_15;
    .thread T_15;
    .scope S_0x15b6cab50;
T_16 ;
    %wait E_0x15b6cb110;
    %load/vec4 v0x15b6cbfc0_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_16.2, 9;
    %load/vec4 v0x15b6cbbc0_0;
    %nor/r;
    %and;
T_16.2;
    %flag_set/vec4 8;
    %jmp/0xz  T_16.0, 8;
    %load/vec4 v0x15b6cb920_0;
    %load/vec4 v0x15b6cc060_0;
    %pad/u 6;
    %ix/vec4 3;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x15b6cbb20, 0, 4;
T_16.0 ;
    %jmp T_16;
    .thread T_16;
    .scope S_0x15b6cab50;
T_17 ;
    %wait E_0x15b6cb0b0;
    %load/vec4 v0x15b6cbf20_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_17.0, 8;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x15b6cb870_0, 0;
    %jmp T_17.1;
T_17.0 ;
    %load/vec4 v0x15b6cbfc0_0;
    %flag_set/vec4 8;
    %flag_get/vec4 8;
    %jmp/0 T_17.7, 8;
    %load/vec4 v0x15b6cbbc0_0;
    %nor/r;
    %and;
T_17.7;
    %load/vec4 v0x15b6cbdf0_0;
    %flag_set/vec4 8;
    %flag_get/vec4 8;
    %jmp/0 T_17.8, 8;
    %load/vec4 v0x15b6cba80_0;
    %nor/r;
    %and;
T_17.8;
    %concat/vec4; draw_concat_vec4
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_17.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_17.3, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_17.4, 6;
    %load/vec4 v0x15b6cb870_0;
    %assign/vec4 v0x15b6cb870_0, 0;
    %jmp T_17.6;
T_17.2 ;
    %load/vec4 v0x15b6cb870_0;
    %addi 1, 0, 5;
    %assign/vec4 v0x15b6cb870_0, 0;
    %jmp T_17.6;
T_17.3 ;
    %load/vec4 v0x15b6cb870_0;
    %subi 1, 0, 5;
    %assign/vec4 v0x15b6cb870_0, 0;
    %jmp T_17.6;
T_17.4 ;
    %load/vec4 v0x15b6cb870_0;
    %assign/vec4 v0x15b6cb870_0, 0;
    %jmp T_17.6;
T_17.6 ;
    %pop/vec4 1;
T_17.1 ;
    %jmp T_17;
    .thread T_17;
    .scope S_0x15b6cc1f0;
T_18 ;
    %wait E_0x15b6cc7e0;
    %load/vec4 v0x15b6cdae0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_18.0, 8;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v0x15b6cd1a0_0, 0;
    %load/vec4 v0x15b6cd390_0;
    %assign/vec4 v0x15b6cddd0_0, 0;
    %jmp T_18.1;
T_18.0 ;
    %load/vec4 v0x15b6cd840_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_18.4, 9;
    %load/vec4 v0x15b6cd100_0;
    %and;
T_18.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_18.2, 8;
    %load/vec4 v0x15b6ccfa0_0;
    %pad/u 32;
    %subi 1, 0, 32;
    %load/vec4 v0x15b6cd1a0_0;
    %pad/u 32;
    %cmp/u;
    %flag_or 5, 4;
    %jmp/0xz  T_18.5, 5;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v0x15b6cd1a0_0, 0;
    %load/vec4 v0x15b6cddd0_0;
    %inv;
    %assign/vec4 v0x15b6cddd0_0, 0;
    %jmp T_18.6;
T_18.5 ;
    %load/vec4 v0x15b6cd1a0_0;
    %addi 1, 0, 16;
    %assign/vec4 v0x15b6cd1a0_0, 0;
T_18.6 ;
    %jmp T_18.3;
T_18.2 ;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v0x15b6cd1a0_0, 0;
    %load/vec4 v0x15b6cd390_0;
    %assign/vec4 v0x15b6cddd0_0, 0;
T_18.3 ;
T_18.1 ;
    %jmp T_18;
    .thread T_18;
    .scope S_0x15b6cc1f0;
T_19 ;
    %wait E_0x15b6cc7e0;
    %load/vec4 v0x15b6cdae0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_19.0, 8;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x15b6cd6f0_0, 0;
    %jmp T_19.1;
T_19.0 ;
    %load/vec4 v0x15b6cda30_0;
    %assign/vec4 v0x15b6cd6f0_0, 0;
T_19.1 ;
    %jmp T_19;
    .thread T_19;
    .scope S_0x15b6cc1f0;
T_20 ;
Ewait_0 .event/or E_0x15b6cc820, E_0x0;
    %wait Ewait_0;
    %load/vec4 v0x15b6cd6f0_0;
    %store/vec4 v0x15b6cda30_0, 0, 3;
    %load/vec4 v0x15b6cd6f0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_20.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_20.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_20.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_20.3, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_20.4, 6;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x15b6cda30_0, 0, 3;
    %jmp T_20.6;
T_20.0 ;
    %load/vec4 v0x15b6cd840_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_20.9, 9;
    %load/vec4 v0x15b6ce3c0_0;
    %and;
T_20.9;
    %flag_set/vec4 8;
    %jmp/0xz  T_20.7, 8;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v0x15b6cda30_0, 0, 3;
T_20.7 ;
    %jmp T_20.6;
T_20.1 ;
    %load/vec4 v0x15b6cd5b0_0;
    %pad/u 32;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_20.10, 4;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v0x15b6cda30_0, 0, 3;
    %jmp T_20.11;
T_20.10 ;
    %pushi/vec4 2, 0, 3;
    %store/vec4 v0x15b6cda30_0, 0, 3;
T_20.11 ;
    %jmp T_20.6;
T_20.2 ;
    %load/vec4 v0x15b6cd5b0_0;
    %load/vec4 v0x15b6cd520_0;
    %cmp/u;
    %flag_or 5, 4;
    %jmp/0xz  T_20.12, 5;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v0x15b6cda30_0, 0, 3;
T_20.12 ;
    %jmp T_20.6;
T_20.3 ;
    %load/vec4 v0x15b6cd050_0;
    %pad/u 32;
    %cmpi/e 7, 0, 32;
    %flag_get/vec4 4;
    %jmp/0 T_20.17, 4;
    %load/vec4 v0x15b6cd1a0_0;
    %pad/u 32;
    %pushi/vec4 0, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_20.17;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_20.16, 9;
    %load/vec4 v0x15b6cddd0_0;
    %load/vec4 v0x15b6cd390_0;
    %load/vec4 v0x15b6cd2f0_0;
    %xor;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_20.16;
    %flag_set/vec4 8;
    %jmp/0xz  T_20.14, 8;
    %pushi/vec4 4, 0, 3;
    %store/vec4 v0x15b6cda30_0, 0, 3;
T_20.14 ;
    %jmp T_20.6;
T_20.4 ;
    %load/vec4 v0x15b6cd1a0_0;
    %pad/u 32;
    %cmpi/e 0, 0, 32;
    %flag_get/vec4 4;
    %jmp/0 T_20.20, 4;
    %load/vec4 v0x15b6cddd0_0;
    %load/vec4 v0x15b6cd390_0;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_20.20;
    %flag_set/vec4 8;
    %jmp/0xz  T_20.18, 8;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x15b6cda30_0, 0, 3;
T_20.18 ;
    %jmp T_20.6;
T_20.6 ;
    %pop/vec4 1;
    %jmp T_20;
    .thread T_20, $push;
    .scope S_0x15b6cc1f0;
T_21 ;
    %wait E_0x15b6cc7e0;
    %load/vec4 v0x15b6cdae0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_21.0, 8;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x15b6cd050_0, 0;
    %jmp T_21.1;
T_21.0 ;
    %load/vec4 v0x15b6cd6f0_0;
    %cmpi/e 0, 0, 3;
    %jmp/0xz  T_21.2, 4;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x15b6cd050_0, 0;
    %jmp T_21.3;
T_21.2 ;
    %load/vec4 v0x15b6cd6f0_0;
    %cmpi/e 3, 0, 3;
    %flag_get/vec4 4;
    %jmp/0 T_21.7, 4;
    %load/vec4 v0x15b6cd1a0_0;
    %pad/u 32;
    %pushi/vec4 0, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_21.7;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_21.6, 9;
    %load/vec4 v0x15b6cddd0_0;
    %load/vec4 v0x15b6cd390_0;
    %load/vec4 v0x15b6cd2f0_0;
    %xor;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_21.6;
    %flag_set/vec4 8;
    %jmp/0xz  T_21.4, 8;
    %load/vec4 v0x15b6cd050_0;
    %addi 1, 0, 3;
    %assign/vec4 v0x15b6cd050_0, 0;
T_21.4 ;
T_21.3 ;
T_21.1 ;
    %jmp T_21;
    .thread T_21;
    .scope S_0x15b6cc1f0;
T_22 ;
    %wait E_0x15b6cc7e0;
    %load/vec4 v0x15b6cdae0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_22.0, 8;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x15b6cd520_0, 0;
    %jmp T_22.1;
T_22.0 ;
    %load/vec4 v0x15b6cd6f0_0;
    %cmpi/e 0, 0, 3;
    %jmp/0xz  T_22.2, 4;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x15b6cd520_0, 0;
    %jmp T_22.3;
T_22.2 ;
    %load/vec4 v0x15b6cd6f0_0;
    %cmpi/e 2, 0, 3;
    %jmp/0xz  T_22.4, 4;
    %load/vec4 v0x15b6cd520_0;
    %addi 1, 0, 8;
    %assign/vec4 v0x15b6cd520_0, 0;
T_22.4 ;
T_22.3 ;
T_22.1 ;
    %jmp T_22;
    .thread T_22;
    .scope S_0x15b6cc1f0;
T_23 ;
    %wait E_0x15b6cc7e0;
    %load/vec4 v0x15b6cdae0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_23.0, 8;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x15b6ce330_0, 0;
    %jmp T_23.1;
T_23.0 ;
    %load/vec4 v0x15b6cd6f0_0;
    %cmpi/e 0, 0, 3;
    %flag_get/vec4 4;
    %jmp/0 T_23.4, 4;
    %load/vec4 v0x15b6ce3c0_0;
    %and;
T_23.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_23.2, 8;
    %load/vec4 v0x15b6ce180_0;
    %assign/vec4 v0x15b6ce330_0, 0;
    %jmp T_23.3;
T_23.2 ;
    %load/vec4 v0x15b6cd6f0_0;
    %cmpi/e 3, 0, 3;
    %flag_get/vec4 4;
    %jmp/0 T_23.8, 4;
    %load/vec4 v0x15b6cd1a0_0;
    %pad/u 32;
    %pushi/vec4 0, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_23.8;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_23.7, 9;
    %load/vec4 v0x15b6cddd0_0;
    %load/vec4 v0x15b6cd390_0;
    %load/vec4 v0x15b6cd2f0_0;
    %xor;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_23.7;
    %flag_set/vec4 8;
    %jmp/0xz  T_23.5, 8;
    %load/vec4 v0x15b6ce330_0;
    %parti/s 7, 0, 2;
    %concati/vec4 0, 0, 1;
    %assign/vec4 v0x15b6ce330_0, 0;
T_23.5 ;
T_23.3 ;
T_23.1 ;
    %jmp T_23;
    .thread T_23;
    .scope S_0x15b6cc1f0;
T_24 ;
    %wait E_0x15b6cc7e0;
    %load/vec4 v0x15b6cdae0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_24.0, 8;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x15b6cdcb0_0, 0;
    %jmp T_24.1;
T_24.0 ;
    %load/vec4 v0x15b6cd6f0_0;
    %cmpi/e 3, 0, 3;
    %flag_get/vec4 4;
    %jmp/0 T_24.5, 4;
    %load/vec4 v0x15b6cd1a0_0;
    %pad/u 32;
    %pushi/vec4 0, 0, 32;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_24.5;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_24.4, 9;
    %load/vec4 v0x15b6cddd0_0;
    %load/vec4 v0x15b6cd390_0;
    %load/vec4 v0x15b6cd2f0_0;
    %inv;
    %xor;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_24.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_24.2, 8;
    %load/vec4 v0x15b6cdcb0_0;
    %parti/s 7, 0, 2;
    %load/vec4 v0x15b6cd420_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x15b6cdcb0_0, 0;
T_24.2 ;
T_24.1 ;
    %jmp T_24;
    .thread T_24;
    .scope S_0x15b6ca4e0;
T_25 ;
    %wait E_0x15b6caa70;
    %load/vec4 v0x15b6d1820_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_25.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x15b6d0ee0_0, 0;
    %pushi/vec4 10, 0, 32;
    %assign/vec4 v0x15b6d0ce0_0, 0;
    %pushi/vec4 16, 0, 32;
    %assign/vec4 v0x15b6d1100_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x15b6d1190_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x15b6d1420_0, 0;
    %jmp T_25.1;
T_25.0 ;
    %load/vec4 v0x15b6d18b0_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_25.5, 10;
    %load/vec4 v0x15b6d15d0_0;
    %and;
T_25.5;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_25.4, 9;
    %load/vec4 v0x15b6d1aa0_0;
    %and;
T_25.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_25.2, 8;
    %load/vec4 v0x15b6d14b0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 8;
    %cmp/u;
    %jmp/1 T_25.6, 6;
    %dup/vec4;
    %pushi/vec4 16, 0, 8;
    %cmp/u;
    %jmp/1 T_25.7, 6;
    %dup/vec4;
    %pushi/vec4 20, 0, 8;
    %cmp/u;
    %jmp/1 T_25.8, 6;
    %dup/vec4;
    %pushi/vec4 24, 0, 8;
    %cmp/u;
    %jmp/1 T_25.9, 6;
    %dup/vec4;
    %pushi/vec4 28, 0, 8;
    %cmp/u;
    %jmp/1 T_25.10, 6;
    %jmp T_25.11;
T_25.6 ;
    %load/vec4 v0x15b6d19f0_0;
    %assign/vec4 v0x15b6d0ee0_0, 0;
    %jmp T_25.11;
T_25.7 ;
    %load/vec4 v0x15b6d19f0_0;
    %assign/vec4 v0x15b6d0ce0_0, 0;
    %jmp T_25.11;
T_25.8 ;
    %load/vec4 v0x15b6d19f0_0;
    %assign/vec4 v0x15b6d1100_0, 0;
    %jmp T_25.11;
T_25.9 ;
    %load/vec4 v0x15b6d19f0_0;
    %assign/vec4 v0x15b6d1190_0, 0;
    %jmp T_25.11;
T_25.10 ;
    %load/vec4 v0x15b6d19f0_0;
    %assign/vec4 v0x15b6d1420_0, 0;
    %jmp T_25.11;
T_25.11 ;
    %pop/vec4 1;
T_25.2 ;
T_25.1 ;
    %jmp T_25;
    .thread T_25;
    .scope S_0x15b6ca4e0;
T_26 ;
Ewait_1 .event/or E_0x15b6caad0, E_0x0;
    %wait Ewait_1;
    %load/vec4 v0x15b6d14b0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 8;
    %cmp/u;
    %jmp/1 T_26.0, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 8;
    %cmp/u;
    %jmp/1 T_26.1, 6;
    %dup/vec4;
    %pushi/vec4 12, 0, 8;
    %cmp/u;
    %jmp/1 T_26.2, 6;
    %dup/vec4;
    %pushi/vec4 16, 0, 8;
    %cmp/u;
    %jmp/1 T_26.3, 6;
    %dup/vec4;
    %pushi/vec4 20, 0, 8;
    %cmp/u;
    %jmp/1 T_26.4, 6;
    %dup/vec4;
    %pushi/vec4 24, 0, 8;
    %cmp/u;
    %jmp/1 T_26.5, 6;
    %dup/vec4;
    %pushi/vec4 28, 0, 8;
    %cmp/u;
    %jmp/1 T_26.6, 6;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6d16f0_0, 0, 32;
    %jmp T_26.8;
T_26.0 ;
    %load/vec4 v0x15b6d0ee0_0;
    %store/vec4 v0x15b6d16f0_0, 0, 32;
    %jmp T_26.8;
T_26.1 ;
    %load/vec4 v0x15b6d1380_0;
    %store/vec4 v0x15b6d16f0_0, 0, 32;
    %jmp T_26.8;
T_26.2 ;
    %load/vec4 v0x15b6d1c90_0;
    %store/vec4 v0x15b6d16f0_0, 0, 32;
    %jmp T_26.8;
T_26.3 ;
    %load/vec4 v0x15b6d0ce0_0;
    %store/vec4 v0x15b6d16f0_0, 0, 32;
    %jmp T_26.8;
T_26.4 ;
    %load/vec4 v0x15b6d1100_0;
    %store/vec4 v0x15b6d16f0_0, 0, 32;
    %jmp T_26.8;
T_26.5 ;
    %load/vec4 v0x15b6d1190_0;
    %store/vec4 v0x15b6d16f0_0, 0, 32;
    %jmp T_26.8;
T_26.6 ;
    %load/vec4 v0x15b6d1420_0;
    %store/vec4 v0x15b6d16f0_0, 0, 32;
    %jmp T_26.8;
T_26.8 ;
    %pop/vec4 1;
    %jmp T_26;
    .thread T_26, $push;
    .scope S_0x15b6ca4e0;
T_27 ;
    %wait E_0x15b6caa70;
    %load/vec4 v0x15b6d1820_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_27.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x15b6d2d60_0, 0;
    %jmp T_27.1;
T_27.0 ;
    %load/vec4 v0x15b6d18b0_0;
    %flag_set/vec4 11;
    %flag_get/vec4 11;
    %jmp/0 T_27.6, 11;
    %load/vec4 v0x15b6d15d0_0;
    %and;
T_27.6;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_27.5, 10;
    %load/vec4 v0x15b6d1aa0_0;
    %and;
T_27.5;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_27.4, 9;
    %load/vec4 v0x15b6d14b0_0;
    %pushi/vec4 8, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_27.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_27.2, 8;
    %load/vec4 v0x15b6d19f0_0;
    %assign/vec4 v0x15b6d2d60_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x15b6d2cd0_0, 0;
    %jmp T_27.3;
T_27.2 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x15b6d2cd0_0, 0;
T_27.3 ;
T_27.1 ;
    %jmp T_27;
    .thread T_27;
    .scope S_0x15b6ca4e0;
T_28 ;
    %wait E_0x15b6caa70;
    %load/vec4 v0x15b6d1820_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_28.0, 8;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v0x15b6d2770_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x15b6d12f0_0, 0;
    %jmp T_28.1;
T_28.0 ;
    %load/vec4 v0x15b6d2800_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_28.2, 8;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v0x15b6d2770_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x15b6d12f0_0, 0;
    %jmp T_28.3;
T_28.2 ;
    %load/vec4 v0x15b6d2770_0;
    %cmpi/u 65535, 0, 16;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_28.4, 5;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v0x15b6d2770_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x15b6d12f0_0, 0;
    %jmp T_28.5;
T_28.4 ;
    %load/vec4 v0x15b6d2770_0;
    %addi 1, 0, 16;
    %assign/vec4 v0x15b6d2770_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x15b6d12f0_0, 0;
T_28.5 ;
T_28.3 ;
T_28.1 ;
    %jmp T_28;
    .thread T_28;
    .scope S_0x15b6ca4e0;
T_29 ;
    %wait E_0x15b6caa70;
    %load/vec4 v0x15b6d1820_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_29.0, 8;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b6d1be0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x15b6d1b40_0, 0;
    %jmp T_29.1;
T_29.0 ;
    %load/vec4 v0x15b6d0f90_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_29.4, 9;
    %load/vec4 v0x15b6d12f0_0;
    %flag_set/vec4 9;
    %jmp/1 T_29.6, 9;
    %load/vec4 v0x15b6d2b70_0;
    %flag_set/vec4 10;
    %flag_or 9, 10;
T_29.6;
    %flag_get/vec4 9;
    %jmp/1 T_29.5, 9;
    %load/vec4 v0x15b6d1ff0_0;
    %or;
T_29.5;
    %and;
T_29.4;
    %flag_set/vec4 8;
    %jmp/0xz  T_29.2, 8;
    %load/vec4 v0x15b6d0c40_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_29.9, 9;
    %load/vec4 v0x15b6d1be0_0;
    %load/vec4 v0x15b6d06d0_0;
    %cmp/u;
    %flag_get/vec4 5;
    %and;
T_29.9;
    %flag_set/vec4 8;
    %jmp/0xz  T_29.7, 8;
    %load/vec4 v0x15b6d1be0_0;
    %addi 1, 0, 4;
    %assign/vec4 v0x15b6d1be0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x15b6d1b40_0, 0;
    %jmp T_29.8;
T_29.7 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x15b6d1b40_0, 0;
T_29.8 ;
    %jmp T_29.3;
T_29.2 ;
    %load/vec4 v0x15b6d2510_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_29.10, 8;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b6d1be0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x15b6d1b40_0, 0;
T_29.10 ;
T_29.3 ;
T_29.1 ;
    %jmp T_29;
    .thread T_29;
    .scope S_0x15b6ca4e0;
T_30 ;
    %wait E_0x15b6caa70;
    %load/vec4 v0x15b6d1820_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_30.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x15b6d25c0_0, 0;
    %jmp T_30.1;
T_30.0 ;
    %load/vec4 v0x15b6d1190_0;
    %parti/s 1, 0, 2;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_30.5, 9;
    %load/vec4 v0x15b6d2960_0;
    %and;
T_30.5;
    %flag_set/vec4 8;
    %jmp/1 T_30.4, 8;
    %load/vec4 v0x15b6d1190_0;
    %parti/s 1, 1, 2;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_30.6, 10;
    %load/vec4 v0x15b6d1de0_0;
    %and;
T_30.6;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_30.4;
    %jmp/1 T_30.3, 8;
    %load/vec4 v0x15b6d1190_0;
    %parti/s 1, 2, 3;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_30.7, 10;
    %load/vec4 v0x15b6d2510_0;
    %and;
T_30.7;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_30.3;
    %flag_get/vec4 8;
    %jmp/1 T_30.2, 8;
    %load/vec4 v0x15b6d1190_0;
    %parti/s 1, 3, 3;
    %flag_set/vec4 8;
    %flag_get/vec4 8;
    %jmp/0 T_30.8, 8;
    %load/vec4 v0x15b6d12f0_0;
    %flag_set/vec4 8;
    %jmp/1 T_30.10, 8;
    %load/vec4 v0x15b6d2b70_0;
    %flag_set/vec4 9;
    %flag_or 8, 9;
T_30.10;
    %flag_get/vec4 8;
    %jmp/1 T_30.9, 8;
    %load/vec4 v0x15b6d1ff0_0;
    %or;
T_30.9;
    %and;
T_30.8;
    %or;
T_30.2;
    %assign/vec4 v0x15b6d25c0_0, 0;
T_30.1 ;
    %jmp T_30;
    .thread T_30;
    .scope S_0x15b6af070;
T_31 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4c50_0, 0, 1;
T_31.0 ;
    %delay 5000, 0;
    %load/vec4 v0x15b6d4c50_0;
    %inv;
    %store/vec4 v0x15b6d4c50_0, 0, 1;
    %jmp T_31.0;
    %end;
    .thread T_31;
    .scope S_0x15b6af070;
T_32 ;
    %wait E_0x15b6a8fe0;
    %load/vec4 v0x15b6d4ef0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_32.0, 8;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x15b6d5390_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x15b6d5420_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x15b6d54b0_0, 0;
    %jmp T_32.1;
T_32.0 ;
    %load/vec4 v0x15b6d5610_0;
    %cmpi/ne 15, 0, 4;
    %jmp/0xz  T_32.2, 4;
    %load/vec4 v0x15b6d5390_0;
    %parti/s 7, 0, 2;
    %load/vec4 v0x15b6d5800_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x15b6d5390_0, 0;
    %load/vec4 v0x15b6d54b0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_32.4, 8;
    %load/vec4 v0x15b6d5390_0;
    %assign/vec4 v0x15b6d5420_0, 0;
T_32.4 ;
T_32.2 ;
T_32.1 ;
    %jmp T_32;
    .thread T_32;
    .scope S_0x15b6af070;
T_33 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d5080_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4ce0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d5250_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x15b6d4b00_0, 0, 8;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6d51c0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6d4680_0, 0, 32;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4770_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d4810_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b6d48b0_0, 0, 1;
    %fork t_5, S_0x15b6acd30;
    %jmp t_4;
    .scope S_0x15b6acd30;
t_5 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6aac10_0, 0, 32;
T_33.0 ;
    %load/vec4 v0x15b6aac10_0;
    %cmpi/s 32, 0, 32;
    %jmp/0xz T_33.1, 5;
    %pushi/vec4 160, 0, 32;
    %load/vec4 v0x15b6aac10_0;
    %add;
    %pad/u 8;
    %ix/getv/s 4, v0x15b6aac10_0;
    %store/vec4a v0x15b6d4fa0, 4, 0;
    %load/vec4 v0x15b6aac10_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6aac10_0, 0, 32;
    %jmp T_33.0;
T_33.1 ;
    %end;
    .scope S_0x15b6af070;
t_4 %join;
    %delay 100000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b6d4ef0_0, 0, 1;
    %delay 50000, 0;
    %vpi_call/w 3 514 "$display", "=== Test 1: Basic APB interface ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %pushi/vec4 16, 0, 8;
    %store/vec4 v0x15b6ca380_0, 0, 8;
    %pushi/vec4 10, 0, 32;
    %store/vec4 v0x15b6ca430_0, 0, 32;
    %fork TD_tb_spi_controller.apb_write, S_0x15b6ca1a0;
    %join;
    %delay 100000, 0;
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %vpi_call/w 3 522 "$display", "PASS: Basic APB interface test" {0 0 0};
    %vpi_call/w 3 525 "$display", "=== Test 2: All SPI Modes ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x15b6d4290_0, 0, 2;
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x15b6d4350_0, 0, 8;
    %fork TD_tb_spi_controller.test_spi_mode, S_0x15b6d40d0;
    %join;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x15b6d4290_0, 0, 2;
    %pushi/vec4 187, 0, 8;
    %store/vec4 v0x15b6d4350_0, 0, 8;
    %fork TD_tb_spi_controller.test_spi_mode, S_0x15b6d40d0;
    %join;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x15b6d4290_0, 0, 2;
    %pushi/vec4 204, 0, 8;
    %store/vec4 v0x15b6d4350_0, 0, 8;
    %fork TD_tb_spi_controller.test_spi_mode, S_0x15b6d40d0;
    %join;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x15b6d4290_0, 0, 2;
    %pushi/vec4 221, 0, 8;
    %store/vec4 v0x15b6d4350_0, 0, 8;
    %fork TD_tb_spi_controller.test_spi_mode, S_0x15b6d40d0;
    %join;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %load/vec4 v0x15b6d5960_0;
    %parti/s 1, 0, 2;
    %cmpi/e 0, 0, 1;
    %jmp/0xz  T_33.2, 4;
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %jmp T_33.3;
T_33.2 ;
    %load/vec4 v0x15b6d4680_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4680_0, 0, 32;
T_33.3 ;
    %vpi_call/w 3 549 "$display", "=== Test 3: FIFO Underflow ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %fork TD_tb_spi_controller.test_fifo_underflow, S_0x15b6d36e0;
    %join;
    %load/vec4 v0x15b6d4810_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_33.4, 8;
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %jmp T_33.5;
T_33.4 ;
    %load/vec4 v0x15b6d4680_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4680_0, 0, 32;
T_33.5 ;
    %vpi_call/w 3 561 "$display", "=== Test 4: Interrupt Generation ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %fork TD_tb_spi_controller.test_interrupt_generation, S_0x15b6d38a0;
    %join;
    %load/vec4 v0x15b6d48b0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_33.6, 8;
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %jmp T_33.7;
T_33.6 ;
    %load/vec4 v0x15b6d4680_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4680_0, 0, 32;
T_33.7 ;
    %vpi_call/w 3 573 "$display", "=== Test 5: FIFO Overflow ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %fork TD_tb_spi_controller.test_fifo_overflow, S_0x15b6d32c0;
    %join;
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %vpi_call/w 3 581 "$display", "=== Test 6: Error Detection ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %fork TD_tb_spi_controller.test_error_detection, S_0x15b6d3150;
    %join;
    %load/vec4 v0x15b6d45e0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_33.8, 8;
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %jmp T_33.9;
T_33.8 ;
    %load/vec4 v0x15b6d4680_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4680_0, 0, 32;
T_33.9 ;
    %vpi_call/w 3 593 "$display", "=== Test 7: Loopback Mode ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %fork TD_tb_spi_controller.test_loopback_mode, S_0x15b6d3ae0;
    %join;
    %load/vec4 v0x15b6d4a60_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_33.10, 8;
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %jmp T_33.11;
T_33.10 ;
    %load/vec4 v0x15b6d4680_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4680_0, 0, 32;
T_33.11 ;
    %vpi_call/w 3 605 "$display", "=== Test 8: Chip Select Delay ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %fork TD_tb_spi_controller.test_cs_delay, S_0x15b6d2f50;
    %join;
    %load/vec4 v0x15b6d43f0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_33.12, 8;
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %jmp T_33.13;
T_33.12 ;
    %load/vec4 v0x15b6d4680_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4680_0, 0, 32;
T_33.13 ;
    %vpi_call/w 3 617 "$display", "=== Test 9: Performance Test ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %fork TD_tb_spi_controller.test_performance, S_0x15b6d3ca0;
    %join;
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %vpi_call/w 3 625 "$display", "=== Test 10: Status Register Reading ===" {0 0 0};
    %load/vec4 v0x15b6d5a00_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d5a00_0, 0, 32;
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x15b6ca040_0, 0, 8;
    %fork TD_tb_spi_controller.apb_read, S_0x15b6c9e30;
    %join;
    %load/vec4 v0x15b6ca0f0_0;
    %store/vec4 v0x15b6d5960_0, 0, 32;
    %vpi_call/w 3 629 "$display", "Status register: 0x%08h", v0x15b6d5960_0 {0 0 0};
    %load/vec4 v0x15b6d5960_0;
    %parti/s 1, 0, 2;
    %cmpi/e 0, 0, 1;
    %jmp/0xz  T_33.14, 4;
    %vpi_call/w 3 632 "$display", "PASS: Status register shows not busy" {0 0 0};
    %load/vec4 v0x15b6d4bc0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4bc0_0, 0, 32;
    %jmp T_33.15;
T_33.14 ;
    %vpi_call/w 3 635 "$display", "FAIL: Status register shows busy" {0 0 0};
    %load/vec4 v0x15b6d4680_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b6d4680_0, 0, 32;
T_33.15 ;
    %vpi_call/w 3 640 "$display", "=== Coverage Summary ===" {0 0 0};
    %vpi_call/w 3 641 "$display", "SPI Modes tested: All 4 modes (0, 1, 2, 3)" {0 0 0};
    %load/vec4 v0x15b6d4770_0;
    %flag_set/vec4 8;
    %jmp/0 T_33.16, 8;
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %pushi/vec4 1145394245, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1129596228, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_33.17, 8;
T_33.16 ; End of true expr.
    %pushi/vec4 1313821728, 0, 32; draw_string_vec4
    %pushi/vec4 1145394245, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1129596228, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_33.17, 8;
 ; End of false expr.
    %blend;
T_33.17;
    %vpi_call/w 3 642 "$display", "FIFO Overflow: %s", S<0,vec4,u96> {1 0 0};
    %load/vec4 v0x15b6d4810_0;
    %flag_set/vec4 8;
    %jmp/0 T_33.18, 8;
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %pushi/vec4 1145394245, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1129596228, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_33.19, 8;
T_33.18 ; End of true expr.
    %pushi/vec4 1313821728, 0, 32; draw_string_vec4
    %pushi/vec4 1145394245, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1129596228, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_33.19, 8;
 ; End of false expr.
    %blend;
T_33.19;
    %vpi_call/w 3 643 "$display", "FIFO Underflow: %s", S<0,vec4,u96> {1 0 0};
    %load/vec4 v0x15b6d48b0_0;
    %flag_set/vec4 8;
    %jmp/0 T_33.20, 8;
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %pushi/vec4 1145394245, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1129596228, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_33.21, 8;
T_33.20 ; End of true expr.
    %pushi/vec4 1313821728, 0, 32; draw_string_vec4
    %pushi/vec4 1145394245, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1129596228, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_33.21, 8;
 ; End of false expr.
    %blend;
T_33.21;
    %vpi_call/w 3 644 "$display", "Interrupt Generation: %s", S<0,vec4,u96> {1 0 0};
    %load/vec4 v0x15b6d45e0_0;
    %flag_set/vec4 8;
    %jmp/0 T_33.22, 8;
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %pushi/vec4 1413829460, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 17732, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_33.23, 8;
T_33.22 ; End of true expr.
    %pushi/vec4 1313821728, 0, 32; draw_string_vec4
    %pushi/vec4 1413829460, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 17732, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_33.23, 8;
 ; End of false expr.
    %blend;
T_33.23;
    %vpi_call/w 3 645 "$display", "Error Detection: %s", S<0,vec4,u80> {1 0 0};
    %load/vec4 v0x15b6d5c90_0;
    %flag_set/vec4 8;
    %jmp/0 T_33.24, 8;
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %pushi/vec4 5721938, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1263095367, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_33.25, 8;
T_33.24 ; End of true expr.
    %pushi/vec4 1313821728, 0, 32; draw_string_vec4
    %pushi/vec4 1145394245, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 1129596228, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_33.25, 8;
 ; End of false expr.
    %blend;
T_33.25;
    %vpi_call/w 3 646 "$display", "Timeout Detection: %s", S<0,vec4,u96> {1 0 0};
    %load/vec4 v0x15b6d4a60_0;
    %flag_set/vec4 8;
    %jmp/0 T_33.26, 8;
    %pushi/vec4 87, 0, 32; draw_string_vec4
    %pushi/vec4 1330793289, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 20039, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_33.27, 8;
T_33.26 ; End of true expr.
    %pushi/vec4 1313821728, 0, 32; draw_string_vec4
    %pushi/vec4 1413829460, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 17732, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_33.27, 8;
 ; End of false expr.
    %blend;
T_33.27;
    %vpi_call/w 3 647 "$display", "Loopback Mode: %s", S<0,vec4,u80> {1 0 0};
    %load/vec4 v0x15b6d43f0_0;
    %flag_set/vec4 8;
    %jmp/0 T_33.28, 8;
    %pushi/vec4 0, 0, 32; draw_string_vec4
    %pushi/vec4 1413829460, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 17732, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_33.29, 8;
T_33.28 ; End of true expr.
    %pushi/vec4 1313821728, 0, 32; draw_string_vec4
    %pushi/vec4 1413829460, 0, 32; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %pushi/vec4 17732, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_33.29, 8;
 ; End of false expr.
    %blend;
T_33.29;
    %vpi_call/w 3 648 "$display", "CS Delay: %s", S<0,vec4,u80> {1 0 0};
    %delay 100000, 0;
    %vpi_call/w 3 652 "$display", "=== Final Test Summary ===" {0 0 0};
    %vpi_call/w 3 653 "$display", "Total tests: %0d", v0x15b6d5a00_0 {0 0 0};
    %vpi_call/w 3 654 "$display", "Passed: %0d", v0x15b6d4bc0_0 {0 0 0};
    %vpi_call/w 3 655 "$display", "Failed: %0d", v0x15b6d4680_0 {0 0 0};
    %load/vec4 v0x15b6d4bc0_0;
    %cvt/rv/s;
    %pushi/real 1677721600, 4072; load=100.000
    %mul/wr;
    %load/vec4 v0x15b6d5a00_0;
    %cvt/rv/s;
    %div/wr;
    %vpi_call/w 3 656 "$display", "Success rate: %0.1f%%", W<0,r> {0 1 0};
    %load/vec4 v0x15b6d4680_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_33.30, 4;
    %vpi_call/w 3 659 "$display", "\360\237\216\211 ALL TESTS PASSED!" {0 0 0};
    %jmp T_33.31;
T_33.30 ;
    %vpi_call/w 3 661 "$display", "\342\232\240\357\270\217  SOME TESTS FAILED!" {0 0 0};
T_33.31 ;
    %vpi_call/w 3 664 "$finish" {0 0 0};
    %end;
    .thread T_33;
# The file index is used to find the file name in the following table.
:file_names 7;
    "N/A";
    "<interactive>";
    "-";
    "tb_spi_controller.sv";
    "../../rtl/spi_controller.sv";
    "../../rtl/spi_fifo.sv";
    "../../rtl/spi_protocol_engine.sv";
